---
title: MyBatis
date: 2024-01-12 10:34:00 +0800
categories: [JavaWeb基础]
tags: [学习]
pin: true
author: superWang
toc: true
comments: true
math: false
mermaid: true
typora-root-url: ../../littleWang1.github.io
---

## 1.什么是MyBatis

<img src="/assets/blog_res/2024-01-09-测试.assets/image-20240112165420835.png" alt="image-20240112165420835" style="zoom:67%;" />

官网：[MyBatis中文网](https://mybatis.net.cn/index.html)

## 2.利用MyBatis操作数据库

![image-20240112165700046](/assets/blog_res/2024-01-09-测试.assets/image-20240112165700046.png)

- 在IDEA中配置数据库

![image-20240112170141392](/assets/blog_res/2024-01-09-测试.assets/image-20240112170141392.png)

![image-20240112170327998](/assets/blog_res/2024-01-09-测试.assets/image-20240112170327998.png)

创建SpringBoot项目

![image-20240112170712998](/assets/blog_res/2024-01-09-测试.assets/image-20240112170712998.png)

![image-20240112184600191](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112184600191.png)

创建pojo.User实体类

![image-20240112184715097](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112184715097.png)

创建mapper.UserMapper接口

![image-20240112184724857](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112184724857.png)

#### 测试

![image-20240112190710744](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112190710744.png)

先写接口，然后再写测试类

![image-20240112223420443](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112223420443.png)

配置SQL语句

![image-20240112223620225](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112223620225.png)

在IDEA中配置Mysql数据库

![image-20240112223751173](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112223751173.png)

#### JDBC程序

<img src="/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112224143575.png" alt="image-20240112224143575" style="zoom:67%;" />

#### MyBatis程序

![image-20240112224350065](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112224350065.png)

![image-20240112224410576](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240112224410576.png)

## 3.数据库连接池

![image-20240113122425100](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113122425100.png)

![image-20240113131027095](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113131027095.png)

#### 如何切换连接池

- 直接在依赖里面加入德鲁伊依赖

![image-20240113131102392](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113131102392.png)

成功转换成德鲁伊

![image-20240113131547648](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113131547648.png)

![image-20240113131858873](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113131858873.png)

## 4.lombok

### 问题分析

<img src="/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113133234768.png" alt="image-20240113133234768" style="zoom:67%;" />

### 具体使用

<img src="/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113133323981.png" alt="image-20240113133323981" style="zoom:67%;" />

springboot中已经集成了lombok的版本，并且进行了统一的管理，这里就不需要再说明版本

```
<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
</dependency>
```

![image-20240113133951266](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113133951266.png)

## 5.MyBatis基础操作-环境准备

![image-20240113150844468](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113150844468.png)

### 注意：

实体类和数据库中定义的名称有差别

<img src="/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113151422113.png" alt="image-20240113151422113" style="zoom:67%;" />

### 删除操作

![image-20240113155005810](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113155005810.png)

![image-20240113155040690](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113155040690.png)

### mybatis日志输出

![image-20240113155520848](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113155520848.png)

<img src="/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113160321459.png" alt="image-20240113160321459" style="zoom:67%;" />

 

### 预编译SQL

![image-20240113161337790](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113161337790.png)

![image-20240113161403653](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113161403653.png)

### SQL注入

![image-20240113161450510](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113161450510.png)

![image-20240113161828589](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113161828589.png)

![image-20240113162019519](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113162019519.png)

以下列子就是预编译

![image-20240113162111255](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113162111255.png)

![image-20240113162131257](/assets/blog_res/2024-01-12-MyBatis.assets/image-20240113162131257.png)
