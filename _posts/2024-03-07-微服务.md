---
title: 缓存菜品
date: 2024-03-07 10:34:00 +0800
categories: [微服务]
tags: [学习]
pin: true
author: superWang
toc: true
comments: true
math: false
mermaid: true
typora-root-url: ../../littleWang1.github.io
---

# 1.微服务技术栈





![image-20240307094350538](/assets/blog_res/2024-03-07-微服务.assets/image-20240307094350538.png)

持续集成

![image-20240307094415532](/assets/blog_res/2024-03-07-微服务.assets/image-20240307094415532.png)

# 2.认识微服务

单体架构

![image-20240307095216244](/assets/blog_res/2024-03-07-微服务.assets/image-20240307095216244.png)

分布式架构

![image-20240307095459425](/assets/blog_res/2024-03-07-微服务.assets/image-20240307095459425.png)

![image-20240307095704232](/assets/blog_res/2024-03-07-微服务.assets/image-20240307095704232.png)

![image-20240307100407395](/assets/blog_res/2024-03-07-微服务.assets/image-20240307100407395.png)

![image-20240307100906672](/assets/blog_res/2024-03-07-微服务.assets/image-20240307100906672.png)

认识微服务

![image-20240307110138265](/assets/blog_res/2024-03-07-微服务.assets/image-20240307110138265.png)

![image-20240307110310650](/assets/blog_res/2024-03-07-微服务.assets/image-20240307110310650.png)

springCloud与SpringBoot的版本兼容关系

<img src="/assets/blog_res/2024-03-07-微服务.assets/image-20240307110503559.png" alt="image-20240307110503559" style="zoom:67%;" />

### 微服务拆分注意事项

![image-20240307110810366](/assets/blog_res/2024-03-07-微服务.assets/image-20240307110810366.png)

# 3.服务远程调用

步骤一：

![image-20240307140038524](/assets/blog_res/2024-03-07-微服务.assets/image-20240307140038524.png)

步骤二：

![image-20240307140051993](/assets/blog_res/2024-03-07-微服务.assets/image-20240307140051993.png)

![image-20240307140732927](/assets/blog_res/2024-03-07-微服务.assets/image-20240307140732927.png)

消费者与提供者

![image-20240307145131554](/assets/blog_res/2024-03-07-微服务.assets/image-20240307145131554.png)

![image-20240307145243098](/assets/blog_res/2024-03-07-微服务.assets/image-20240307145243098.png)

# 4.Eureka注册中心

服务调用会出现问题比如：

![image-20240307145612153](/assets/blog_res/2024-03-07-微服务.assets/image-20240307145612153.png)

这个时候需要Eureka可以解决这些问题

Eureka的作用

![image-20240307145942350](/assets/blog_res/2024-03-07-微服务.assets/image-20240307145942350.png)

![image-20240307150038624](/assets/blog_res/2024-03-07-微服务.assets/image-20240307150038624.png)

总结：

![image-20240307150104288](/assets/blog_res/2024-03-07-微服务.assets/image-20240307150104288.png)

如何搭建Eureka

![image-20240307150610463](/assets/blog_res/2024-03-07-微服务.assets/image-20240307150610463.png)

eurka注册

```
server:
  port: 10086 # 服务端口
spring:
  application:
    name: eurekaserver # eurka服务名称
eureka:
  client:
    service-url:
      defaultZone: http://localhost:10086/eureka
```

找到eureka的main函数，启动eureka

![image-20240307154539820](/assets/blog_res/2024-03-07-微服务.assets/image-20240307154539820.png)

服务的实例列表

![image-20240307154816920](/assets/blog_res/2024-03-07-微服务.assets/image-20240307154816920.png)

服务注册

![image-20240307161552202](/assets/blog_res/2024-03-07-微服务.assets/image-20240307161552202.png)

模拟多实例注入

![image-20240307162202454](/assets/blog_res/2024-03-07-微服务.assets/image-20240307162202454.png)

![image-20240307171125847](/assets/blog_res/2024-03-07-微服务.assets/image-20240307171125847.png)

服务拉取

![image-20240307171459248](/assets/blog_res/2024-03-07-微服务.assets/image-20240307171459248.png)

![image-20240307171545240](/assets/blog_res/2024-03-07-微服务.assets/image-20240307171545240.png)

Ribbon负载均衡

![image-20240307171846016](/assets/blog_res/2024-03-07-微服务.assets/image-20240307171846016.png)

![image-20240307174901302](/assets/blog_res/2024-03-07-微服务.assets/image-20240307174901302.png)

# 5.Ribbon负载均衡

![image-20240307184429669](/assets/blog_res/2024-03-07-微服务.assets/image-20240307184429669.png)

负载均衡策略实现有两种方案

![image-20240307185334130](/assets/blog_res/2024-03-07-微服务.assets/image-20240307185334130.png)

![image-20240307190228425](/assets/blog_res/2024-03-07-微服务.assets/image-20240307190228425.png)

# 6.Nacos

### 启动Nacos报错->用这个命令解决

### .\startup.cmd -m standalone



![image-20240307192757439](/assets/blog_res/2024-03-07-微服务.assets/image-20240307192757439.png)

访问此网站： http://192.168.150.1:8848/nacos/index.html

网站默认账号和密码都是 nacos

![image-20240307193108404](/assets/blog_res/2024-03-07-微服务.assets/image-20240307193108404.png)

```
<dependency>
    <groupId>com.alibaba.cloud</groupId>
    <artifactId>spring-cloud-alibaba-dependencies</artifactId>
    <version>2.2.5.RELEASE</version>
    <type>pom</type>
    <scope>import</scope>
</dependency>
```

![image-20240307194544721](/assets/blog_res/2024-03-07-微服务.assets/image-20240307194544721.png)

集群的概念：nacos引用此概念，就是为了防止服务跨集群调用

![image-20240307194749913](/assets/blog_res/2024-03-07-微服务.assets/image-20240307194749913.png)

![image-20240307195012911](/assets/blog_res/2024-03-07-微服务.assets/image-20240307195012911.png)	如何配置一个实例的集群

![image-20240307195047012](/assets/blog_res/2024-03-07-微服务.assets/image-20240307195047012.png)

![image-20240307201630633](/assets/blog_res/2024-03-07-微服务.assets/image-20240307201630633.png)

根据权重配置负载均衡

![image-20240307210148308](/assets/blog_res/2024-03-07-微服务.assets/image-20240307210148308.png)

![image-20240307210930965](/assets/blog_res/2024-03-07-微服务.assets/image-20240307210930965.png)

# 7.环境隔离--namespace

![image-20240307211510188](/assets/blog_res/2024-03-07-微服务.assets/image-20240307211510188.png)

![image-20240307211737174](/assets/blog_res/2024-03-07-微服务.assets/image-20240307211737174.png)

![image-20240307211750733](/assets/blog_res/2024-03-07-微服务.assets/image-20240307211750733.png)

![image-20240307211802040](/assets/blog_res/2024-03-07-微服务.assets/image-20240307211802040.png)

![image-20240307211812747](/assets/blog_res/2024-03-07-微服务.assets/image-20240307211812747.png)

![image-20240307212016819](/assets/blog_res/2024-03-07-微服务.assets/image-20240307212016819.png)

### nacos注册中心细节分析

![image-20240307213736200](/assets/blog_res/2024-03-07-微服务.assets/image-20240307213736200.png)

临时实例和非临时实例

![image-20240307213806742](/assets/blog_res/2024-03-07-微服务.assets/image-20240307213806742.png)

### nacos和eureka区别

![image-20240307213956638](/assets/blog_res/2024-03-07-微服务.assets/image-20240307213956638.png)
